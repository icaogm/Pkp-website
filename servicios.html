<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Portafolio — Angel Sullyvan</title>
<meta name="description" content="Selección curada de trabajos recientes. Fotografía estratégica y dirección visual para músicos y creativos." />

<!-- Open Graph -->
<meta property="og:title" content="Portafolio — Angel Sullyvan" />
<meta property="og:description" content="Retratos y proyectos con dirección visual, estética editorial y enfoque estratégico." />
<meta property="og:image" content="https://images.unsplash.com/photo-1507874457470-272b3c8d8ee2?auto=format&fit=crop&w=1200&q=80" />
<meta property="og:type" content="website" />

<!-- Fuentes -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<!-- GLightbox -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css"/>

<style>
:root{
  --bg:#060606;
  --panel:#0f0f0f;
  --muted:#9aa0a6;
  --white:#ffffff;
  --accent:#ff2e9d;
  --max-width:1200px;
}

/* ===== Reset ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, Outfit, 'Space Grotesk', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  background:var(--bg);
  color:var(--white);
  -webkit-font-smoothing:antialiased;
  line-height:1.4;
}

  /* Layout */
.container{max-width:var(--max-width);margin:0 auto;padding:0 24px}

/* ===== Header (restaurado a estilo original) ===== */
header{
  position:fixed; top:12px; left:0; right:0;
  padding:10px 24px; z-index:100;
  background:transparent; /* como el original */
}
.nav-inner{
  width:90%; max-width:90%; margin:0 auto;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
  backdrop-filter: blur(8px);
  border-radius:12px; padding:8px 14px;
}
.logo{display:flex;gap:12px;align-items:center}
.logo svg{height:44px;width:auto;display:block}
.brand{font-family:Outfit;font-weight:700;letter-spacing:0.6px;font-size:14px}

nav{display:flex;gap:18px;align-items:center}
nav a{color:var(--white);text-decoration:none;font-weight:600;font-size:14px;opacity:0.9;transition:color .2s ease}
nav a:hover{color:var(--accent)}
.cta{
  background:transparent; border:1px solid rgba(255,255,255,0.12);
  padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer;
  transition:transform .22s ease, box-shadow .22s ease, border-color .22s ease;
}
.cta:hover{transform:translateY(-4px);box-shadow:0 8px 30px rgba(0,0,0,0.6);border-color:var(--accent);}

/* Botón hamburguesa (solo móvil) */
.hamburger{display:none;flex-direction:column;gap:4px;cursor:pointer;background:none;border:none}
.hamburger span{width:22px;height:2px;background:var(--white);display:block;border-radius:2px;transition:.3s}
.hamburger.active span:nth-child(1){transform:rotate(45deg) translate(4px, 4px)}
.hamburger.active span:nth-child(2){opacity:0}
.hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(4px, -4px)}

/* ===== Hero ===== */
.portfolio-hero{min-height:56vh; display:grid; place-items:center; position:relative; overflow:hidden}
.portfolio-hero .media{position:absolute; inset:0; background:#000;}
.portfolio-hero picture,img{width:100%; height:100%; object-fit:cover; filter:contrast(.95) saturate(.95);}
.portfolio-hero .overlay{position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.7));}
.portfolio-hero .content{position:relative; z-index:3; text-align:center; padding:60px 20px; max-width:980px; margin:0 auto;}

/* Título glitch activo */
.glitch-title{
  position:relative;display:inline-block;
  font-family:'Space Grotesk',sans-serif;font-weight:700;
  font-size:clamp(2rem, 6vw, 4rem); text-transform:uppercase; color:var(--white);
  letter-spacing:2px; animation:flicker 2.4s infinite alternate;
}
.glitch-title::before,.glitch-title::after{content:attr(data-text);position:absolute;left:0;top:0;width:100%;overflow:hidden}
.glitch-title::before{left:2px;text-shadow:-2px 0 var(--accent);animation:glitchTop 2s infinite linear alternate-reverse}
.glitch-title::after{left:-2px;text-shadow:-2px 0 cyan;animation:glitchBottom 2s infinite linear alternate}
@keyframes flicker{0%,19%,21%,23%,25%,54%,56%,100%{opacity:1;}20%,22%,24%,55%{opacity:.7}}
@keyframes glitchTop{0%{clip:rect(2px,9999px,44px,0);}50%{clip:rect(12px,9999px,35px,0);}100%{clip:rect(2px,9999px,44px,0);}}
@keyframes glitchBottom{0%{clip:rect(45px,9999px,80px,0);}50%{clip:rect(55px,9999px,75px,0);}100%{clip:rect(45px,9999px,80px,0);}}

/* Intro */
.portfolio-intro{background:#0a0a0a; padding:60px 0 20px}
.portfolio-intro .lead{max-width:920px; margin:0 auto; text-align:center; color:#b0b0b0; line-height:1.6; font-size:clamp(1rem, 2.4vw, 1.15rem);}

/* Masonry */
.masonry{
  display:grid; grid-template-columns:repeat(3,1fr);
  gap:14px; padding:30px 0 10px;
}
.masonry .item{
  position:relative; border-radius:12px; overflow:hidden; min-height:240px; background:#111;
  border:1px solid rgba(255,255,255,0.03);
  transition:transform .5s cubic-bezier(.2,.9,.2,1), box-shadow .5s;
}
.masonry .item img{width:100%; height:100%; object-fit:cover; display:block; transition:transform .8s cubic-bezier(.2,.9,.2,1);}
.masonry .item:hover{transform:translateY(-4px); box-shadow:0 24px 60px rgba(0,0,0,0.6);}
.masonry .item:hover img{transform:scale(1.06)}
.masonry .meta{
  position:absolute; left:12px; bottom:12px; color:var(--white); font-weight:700;
  background:linear-gradient(90deg, rgba(0,0,0,0.6), rgba(0,0,0,0.25));
  padding:10px 12px; border-radius:8px; letter-spacing:.3px;
}

/* CTA */
.portfolio-cta{
  background: linear-gradient(180deg,#0a0a0a 0%,#0c0c0c 100%);
  padding: 80px 0; margin-top: 10px; text-align:center;
}
.btn-primary{
  background:linear-gradient(90deg,var(--accent), #ff7ab5 120%);
  color:#060606; padding:12px 20px; border-radius:12px; border:none; font-weight:800; cursor:pointer;
  box-shadow:0 8px 30px rgba(255,46,157,0.12),0 2px 6px rgba(0,0,0,0.6);
  transition:transform .2s ease, box-shadow .2s ease;
  text-decoration:none; display:inline-block;
}
.btn-primary:hover{transform:translateY(-4px);box-shadow:0 18px 50px rgba(255,46,157,0.14)}

/* Footer */
footer{padding:28px 0;color:var(--muted);text-align:center;border-top:1px solid rgba(255,255,255,0.03)}

/* ===== Menú móvil (como el original, desplegable bajo el header) ===== */
@media (max-width: 680px){
  nav{
    display:none; flex-direction:column; position:absolute; top:56px; left:0; width:100vw;
    background: linear-gradient(180deg, rgba(30,30,30,0.65), rgba(0,0,0,0.45));
    backdrop-filter: blur(12px); border-radius: 0 0 14px 14px; box-shadow: 0 8px 32px rgba(0,0,0,0.18);
    z-index: 100; padding: 18px 0; align-items: center;
  }
  nav.open{ display:flex; }
  .hamburger{display:flex}
  /* mantener proporciones del header original en móvil */
  header{padding:8px}
  .nav-inner{padding:8px}
  .logo svg{height:36px}
  .masonry{grid-template-columns:1fr}
}

/* ===== GLightbox (mejorado) ===== */
.glightbox-container{background:rgba(0,0,0,0.96)!important;backdrop-filter:blur(6px);animation:fadeInCine .6s ease forwards}
@keyframes fadeInCine{from{opacity:0;transform:scale(1.02);}to{opacity:1;transform:scale(1);}}
.glightbox-clean .gslide-image img{
  object-fit:contain!important;max-height:85vh!important;width:auto!important;height:auto!important;
  transform:scale(1.02);transition:transform .6s cubic-bezier(.2,.9,.2,1);cursor:zoom-in;
}
.glightbox-open .gslide-image img{animation:zoomFadeIn 1s cubic-bezier(.22,.9,.22,1) forwards}
@keyframes zoomFadeIn{0%{transform:scale(1.1);opacity:.6;}100%{transform:scale(1);opacity:1;}}
.glightbox-clean .gslide-image img.zoomed{transform:scale(1.6);cursor:zoom-out}

/* Flechas visibles */
.glightbox-clean .gprev,.glightbox-clean .gnext{
  opacity:.85!important;visibility:visible!important;display:flex!important;align-items:center;justify-content:center;
  width:60px;height:100%;position:absolute;top:0;z-index:9999;cursor:pointer;transition:opacity .3s ease;
}
.glightbox-clean .gprev{left:0;background:linear-gradient(90deg, rgba(0,0,0,0.6), transparent)}
.glightbox-clean .gnext{right:0;background:linear-gradient(270deg, rgba(0,0,0,0.6), transparent)}
.glightbox-clean .gprev:hover,.glightbox-clean .gnext:hover{opacity:1!important}

/* Thumbnails inferior */
.glightbox-thumbnails{display:flex;gap:6px;justify-content:center;padding:10px;background:rgba(0,0,0,0.4);border-top:1px solid rgba(255,255,255,0.1)}
.glightbox-thumbnails img{width:60px;height:40px;object-fit:cover;border-radius:4px;opacity:.6;cursor:pointer;transition:.3s}
.glightbox-thumbnails img.active{opacity:1;outline:2px solid var(--accent)}
</style>
</head>

<body>

<!-- ===== Header (mismo contenido, orden y CTA al final) ===== -->
<header>
  <div class="nav-inner container">
    <div class="logo">
      <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect x="10" y="10" width="80" height="80" rx="12" fill="none" stroke="#fff" stroke-width="4"/>
        <path d="M28 68 L50 32 L72 68" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <div>
        <div class="brand">Angel Sullyvan</div>
        <div class="muted" style="font-size:12px">Fotografía estratégica · Músicos</div>
      </div>
    </div>

   <nav aria-label="Menú principal" id="main-nav">
  <a href="index.html">Inicio</a>
  <a href="portafolio.html">Portafolio</a>
  <a href="servicios.html">Servicios</a>
  <a href="index.html#backstage">Backstage</a>
  <a href="index.html#testimonios">Testimonios</a>
  <a href="index.html#contacto" class="cta">Agendar sesión</a>
  </nav>

    <button class="hamburger" id="burger" aria-label="Abrir menú">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

<main>

  <!-- Hero -->
  <section class="portfolio-hero" aria-label="Hero Portafolio">
    <div class="media" aria-hidden="true">
      <img src="https://images.unsplash.com/photo-1507874457470-272b3c8d8ee2?auto=format&fit=crop&w=1600&q=80" alt="">
    </div>
    <div class="overlay" aria-hidden="true"></div>
    <div class="content container">
      <h1 class="glitch-title" data-text="PORTAFOLIO">PORTAFOLIO</h1>
    </div>
  </section>

  <!-- Intro -->
  <section class="portfolio-intro">
    <div class="container">
      <p class="lead">
        Selección curada de trabajos recientes — dirección visual, iluminación y acabado editorial al servicio de tu proyecto musical.
      </p>
    </div>
  </section>

  <!-- Galería -->
  <section class="portfolio-grid">
    <div class="container">
      <div class="masonry">

        <!-- Proyecto con galería interna -->
        <a class="item glightbox"
           href="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?auto=format&fit=crop&w=1800&q=90"
           data-gallery="korn-session"
           data-title="KORN SESSION — Portada"
           data-description="Dirección visual con estética industrial, tonos fríos y dramatismo de luz controlada.">
          <img loading="lazy"
               src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?auto=format&fit=crop&w=1200&q=80"
               alt="KORN SESSION — Portada">
          <div class="meta">KORN SESSION · Editorial</div>
        </a>

        <!-- Imágenes internas ocultas del mismo proyecto -->
        <a class="glightbox"
           href="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1800&q=90"
           data-gallery="korn-session"
           data-title="KORN SESSION — Detalle 1"
           style="display:none"></a>

        <a class="glightbox"
           href="https://images.unsplash.com/photo-1504198453319-5ce911bafcde?auto=format&fit=crop&w=1800&q=90"
           data-gallery="korn-session"
           data-title="KORN SESSION — Detalle 2"
           style="display:none"></a>

        <a class="glightbox"
           href="https://images.unsplash.com/photo-1517433456452-f9633a875f6f?auto=format&fit=crop&w=1800&q=90"
           data-gallery="korn-session"
           data-title="KORN SESSION — Final Edit"
           style="display:none"></a>

      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="portfolio-cta">
    <div class="container">
      <h3>¿Listo para construir imágenes que te posicionen?</h3>
      <p>Diseñemos una sesión con dirección visual clara y resultados editoriales.</p>
      <a href="index.html#contacto" class="btn-primary">Agendar sesión</a>
    </div>
  </section>

</main>

<footer>
  <div class="container">
    <div class="muted">© 2025 Angel Sullyvan — Hecho para músicos que quieren ser vistos</div>
  </div>
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
<script>
/* Menú móvil: respeta estilo original (despliega bajo el header) */
const burger = document.getElementById('burger');
const nav = document.getElementById('main-nav');
burger.addEventListener('click', () => {
  burger.classList.toggle('active');
  nav.classList.toggle('open');
  /* bloquea scroll sólo si el menú ocupa pantalla; aquí no es necesario */
});

/* GLightbox avanzado */
const lightbox = GLightbox({
  selector: '.glightbox',
  touchNavigation: true,
  loop: true,
  draggable: true,
  zoomable: true,
  openEffect: 'fade',
  slideEffect: 'slide',
  keyboardNavigation: true,
  beforeSlideLoad: (slide) => {
    const img = slide.querySelector('img');
    if (img) {
      img.style.objectFit = 'contain';
      img.style.maxHeight = '85vh';
      img.style.width = 'auto';
      img.style.height = 'auto';
      img.style.cursor = 'zoom-in';
    }
  }
});

/* Zoom por clic */
document.addEventListener('click', function (e) {
  const img = e.target.closest('.gslide-image img');
  if (img) { img.classList.toggle('zoomed'); }
});

/* Zoom táctil (pinch) */
let scale = 1, startDist = 0;
document.addEventListener('touchstart', (e) => {
  if (e.touches.length === 2) {
    startDist = Math.hypot(
      e.touches[0].pageX - e.touches[1].pageX,
      e.touches[0].pageY - e.touches[1].pageY
    );
  }
}, { passive: true });

document.addEventListener('touchmove', (e) => {
  if (e.touches.length === 2) {
    const newDist = Math.hypot(
      e.touches[0].pageX - e.touches[1].pageX,
      e.touches[0].pageY - e.touches[1].pageY
    );
    const diff = newDist - startDist;
    const img = document.querySelector('.gslide-image img');
    if (img) {
      scale = Math.min(Math.max(1, scale + diff * 0.002), 3);
      img.style.transform = `scale(${scale})`;
    }
    startDist = newDist;
  }
}, { passive: true });

document.addEventListener('touchend', () => { scale = 1; });

/* Tira de miniaturas (se regenerará en cada proyecto) */
lightbox.on('open', () => { buildThumbs(); });
lightbox.on('slide_changed', () => { buildThumbs(); });

function buildThumbs(){
  const activeSlide = document.querySelector('.gslide.current');
  if(!activeSlide) return;

  const group = activeSlide.getAttribute('data-gallery');
  if(!group) return;

  // Recolecta todas las slides del mismo grupo
  const slides = [...document.querySelectorAll(`a.glightbox[data-gallery="${group}"], a.glightbox.gslide[data-gallery="${group}"]`)];
  const gcontainer = document.querySelector('.gcontainer');
  if(!gcontainer) return;

  // Limpia tira previa
  const prev = gcontainer.querySelector('.glightbox-thumbnails');
  if(prev) prev.remove();

  // Crea tira
  const strip = document.createElement('div');
  strip.className = 'glightbox-thumbnails';

  slides.forEach((a, idx) => {
    const thumb = document.createElement('img');
    // Usa la URL de href como preview (en producción, usa thumbs optimizados)
    thumb.src = a.getAttribute('href');
    thumb.alt = a.getAttribute('data-title') || `Imagen ${idx+1}`;
    thumb.addEventListener('click', () => lightbox.goToSlide(idx)); // ir a la imagen del grupo
    strip.appendChild(thumb);
  });

  gcontainer.appendChild(strip);

  // Marca activa
  const currentIndex = getCurrentIndexInGroup(group);
  const thumbs = strip.querySelectorAll('img');
  if(thumbs[currentIndex]) thumbs[currentIndex].classList.add('active');
}

function getCurrentIndexInGroup(group){
  const galleryEls = [...document.querySelectorAll(`a.glightbox[data-gallery="${group}"]`)]
  const currentHref = document.querySelector('.gslide.current .gslide-media a, .gslide.current .gslide-media img')?.getAttribute('href') ||
                      document.querySelector('.gslide.current .gslide-media img')?.getAttribute('src');
  const index = galleryEls.findIndex(el => el.getAttribute('href') === currentHref);
  return Math.max(index, 0);
}
</script>
</body>
</html>
